<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Letter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    
    <style>
        /* General Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8e1f4, #e0c3f7, #c2e6ff);
            background-size: 400% 400%;
            animation: gradientBackground 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Main Container */
        .container {
            width: 95%; /* Use percentage for better responsiveness */
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 2s forwards 0.5s;
        }

        /* Header */
        header h1 {
            font-size: clamp(1.8rem, 5vw, 2.5rem); /* Responsive font size */
            color: #6a4c93;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        /* Letter Section */
        .letter-container {
            background: rgba(255, 255, 255, 0.75);
            border-radius: 20px;
            padding: clamp(20px, 4vw, 30px); /* Responsive padding */
            box-shadow: 0 0 20px rgba(106, 76, 147, 0.3);
            margin-bottom: 40px;
            text-align: left;
            min-height: 200px;
        }

        .letter {
            font-size: clamp(1rem, 3vw, 1.2rem); /* Responsive font size */
            white-space: pre-wrap;
            color: #333;
        }

        /* --- Uncropped, Responsive Video Section --- */
        .video-container {
            display: none; /* Hidden by default */
            width: 100%;
            max-width: 800px; /* Max width for large screens */
            margin: 30px auto;
            background-color: #000; /* Black background for letterboxing */
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 25px rgba(106, 76, 147, 0.4);
        }

        .video-container video {
            width: 100%;
            height: 100%;
            display: block;
            /* This is the key change: ensures the whole video is visible */
            object-fit: contain; 
        }


        /* Buttons */
        .button-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .custom-button {
            font-size: clamp(1.2rem, 4vw, 1.5rem); /* Responsive font size */
            padding: 15px clamp(25px, 6vw, 40px); /* Responsive padding */
            background: linear-gradient(45deg, #ff9a9e, #fad0c4, #a18cd1);
            background-size: 300% 300%;
            animation: gradientButton 5s ease infinite;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(161, 140, 209, 0.5);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .custom-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(161, 140, 209, 0.7);
        }
        
        .download-button {
            background: #ffb6c1;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            padding: 12px clamp(20px, 5vw, 25px);
        }

        .back-button {
            display: inline-block;
            margin-top: 30px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid #6a4c93;
            color: #6a4c93;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: #6a4c93;
            color: white;
        }

        /* Animations */
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        @keyframes gradientBackground {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes gradientButton {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>For My Dearest Friendüíñ</h1>
        </header>

        <div class="letter-container">
            <div class="letter" id="typed-text"></div>
        </div>
        
        <div class="button-container">
            <button onclick="toggleSurprise()" id="surprise-button" class="custom-button">
                Click for a Surprise! üéÅ
            </button>
        </div>

        <div class="video-container" id="video-message">
           <video id="surprise-video" controls playsinline>
  <source src="https://drive.google.com/uc?export=download&id=1I_CiujYLTq97dQs0z93IX-O1uV72JqH5" type="video/mp4">
  Your browser does not support the video tag.
</video>

        </div>

        <div class="button-container">
  <a href="https://drive.google.com/uc?export=download&id=1I_CiujYLTq97dQs0z93IX-O1uV72JqH5" 
     class="custom-button download-button">
      <i class="fas fa-download"></i> Download Video
  </a>
</div>


        <div class="navigation">
            <a href="memorylane.html" class="back-button">
                <i class="fas fa-arrow-left"></i> Back to Memory Lane
            </a>
        </div>
    </div>

    <script>
        function toggleSurprise() {
            const videoContainer = document.getElementById("video-message");
            const video = document.getElementById("surprise-video");
            const surpriseButton = document.getElementById("surprise-button");
            
            if (videoContainer.style.display === "none" || videoContainer.style.display === "") {
                videoContainer.style.display = "block";
                surpriseButton.innerHTML = "Hide Surprise üôà";
                
                if (video) {
                    video.play();
                    confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } });
                }
            } else {
                videoContainer.style.display = "none";
                surpriseButton.innerHTML = "Click for a Surprise! üéÅ";
                
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            const letterContent = "My dearest friend,\n\nAs I sit here thinking about all our memories together, I can't help but smile. From our late-night talks to our spontaneous adventures, you've filled my life with so much joy and laughter. You've been my shoulder to cry on, my partner in crime, and my biggest supporter.\n\nOn your special day, I want you to know how grateful I am to have you in my life. You make every day brighter just by being you - kind, funny, and incredibly thoughtful.\n\nHappy Birthday to my favorite person in the world! Here's to many more years of friendship, laughter, and creating memories together.\n\nWith all my love,\n[Your Name]";

            new Typed("#typed-text", {
                strings: [letterContent],
                typeSpeed: 30,
                showCursor: true,
                cursorChar: "|",
            });
        });
    </script>
</body>

</html>

